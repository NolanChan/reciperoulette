<html>
  <div class="dashboard-header-big">
	<h1> <%= "Welcome to your dashboard, #{@user.email}!" %> </h1>
	</div>
	<div id="dashboard-pantry">
		<div class="dashboard-header-med">
		  <h2> Your Pantry </h2>
		</div>
		<% if flash[:ingredienterror] %>
			<p class="error">
  			<%= h flash[:ingredienterror] %>
			</p>
		<% end %>

	  <% if flash[:ingredienterror] %>
      <p class="error">
        <%= h flash[:ingredienterror] %>
      </p>
    <% end %>

    <div class="add-ingredient">
      <% # This form should link to an update route to add ingredients %>
      <%= form_for(@pantry) do |i| %>
        <%= select_tag 'ingredient', options_from_collection_for_select(Ingredient.all, 'id', 'name') %>
        <%= submit_tag "Add Ingredient" %>
      <% end %>
    </div>
    <div class="pantry-list">
      <%= form_for(@pantry) do |f|%>
        <ul id="ingredients" data-update-url="<%= sort_pantries_url %>">
          <% @ingredients.each do |ingredient| %>
            <%= content_tag_for :li, ingredient do %>
              <%= hidden_field_tag "pantry[ingredient_ids][]", nil %>
              <%= check_box_tag(ingredient.id, ingredient.id, false) %>
              <%= label_tag dom_id(ingredient), ingredient.name %>
              <span class="remove-button">
                <%= button_to("X", { action: 'update', method: :post, controller: "pantries", commit: "Delete Ingredient", ingredient: ingredient.id}) %>
              </span>
            <% end %>
          <% end %>
        </ul>
      <%= submit_tag "Delete Ingredients", class: "btn btn-default" %>
      <% end %>
    </div>
	</div>

	<div id="dashboard-saved-recipes">
	  <div class="dashboard-header-med">
	    <h2> Your Saved Recipes </h2>
		</div>
		<%= render 'users/dashboard/savedrecipes' %>
	</div>

	<div id="roulette-button">
	  <%= button_to "Play Roulette", controller: :users, action: "roulette", method: :post %>
	</div>


</html>